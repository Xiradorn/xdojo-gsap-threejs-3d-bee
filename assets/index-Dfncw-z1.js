import*as s from"https://cdn.skypack.dev/three@0.129.0/build/three.module.js";import{GLTFLoader as x}from"https://cdn.skypack.dev/three@0.129.0/examples/jsm/loaders/GLTFLoader.js";import{gsap as f}from"https://cdn.skypack.dev/gsap";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const o of e)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&t(u)}).observe(document,{childList:!0,subtree:!0});function d(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerPolicy&&(o.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?o.credentials="include":e.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function t(e){if(e.ep)return;e.ep=!0;const o=d(e);fetch(e.href,o)}})();const L=""+new URL("demon_bee_full_texture-LOw1dvHT.glb",import.meta.url).href,c=new s.PerspectiveCamera(10,window.innerWidth/window.innerHeight,.1,1e3);c.position.z=13;const l=new s.Scene;let r,a;const z=new x;z.load(L,function(i){r=i.scene,l.add(r),a=new s.AnimationMixer(r),a.clipAction(i.animations[0]).play(),g(),console.log(i.animations)},function(i){},function(i){});const p=new s.WebGLRenderer({alpha:!0});var w;(w=document.querySelector("#container3D"))==null||w.appendChild(p.domElement);const b=new s.AmbientLight(16777215,1.3);l.add(b);const y=new s.DirectionalLight(16777215,1);y.position.set(500,500,500);l.add(y);const h=()=>{requestAnimationFrame(h),p.render(l,c),a&&a.update(.02)};h();let m=[{id:"banner",position:{x:0,y:-1,z:0},rotation:{x:0,y:1.5,z:0}},{id:"intro",position:{x:1,y:-1,z:-5},rotation:{x:.5,y:-.5,z:0}},{id:"description",position:{x:-1,y:-1,z:-5},rotation:{x:0,y:.5,z:0}},{id:"contact",position:{x:.8,y:-1,z:0},rotation:{x:.3,y:-.5,z:0}}];const g=()=>{const i=document.querySelectorAll(".section");let n;i.forEach(t=>{t.getBoundingClientRect().top<=window.innerHeight/3&&(n=t.id)});let d=m.findIndex(t=>t.id==n);if(d>=0){let t=m[d];f.to(r.position,{x:t.position.x,y:t.position.y,z:t.position.z,duration:1,ease:"power1.out"}),f.to(r.rotation,{x:t.rotation.x,y:t.rotation.y,z:t.rotation.z,duration:3,ease:"power1.out"})}};window.addEventListener("scroll",()=>{r&&g()});window.addEventListener("resize",()=>{p.setSize(window.innerWidth,window.innerHeight),c.aspect=window.innerWidth/window.innerHeight,c.updateProjectionMatrix()});
